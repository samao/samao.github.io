(this.webpackJsonp_name_=this.webpackJsonp_name_||[]).push([[24],{252:function(n,e,t){var a=t(253);"string"==typeof a&&(a=[[n.i,a,""]]);var o={attrs:{id:"qie-player-style"},singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};t(9)(a,o);a.locals&&(n.exports=a.locals)},253:function(n,e,t){(e=t(8)(!1)).push([n.i,"@keyframes popup--2cnwM {\n  from {\n    top: -7px;\n    opacity: 0;\n    transform: scale(0.9) translateY(-100%);\n  }\n  to {\n    top: -10px;\n    opacity: 1;\n    transform: scale(1) translateY(-100%);\n  }\n}\n@keyframes preloader-progress--3j10v {\n  0% {\n    left: 0;\n    opacity: 0;\n  }\n  25% {\n    opacity: 1;\n  }\n  75% {\n    opacity: 1;\n  }\n  100% {\n    left: calc(100% - 20px);\n    opacity: 0;\n  }\n}\n@keyframes route--7BVwT {\n  form {\n    transform: translate(-50%, -50%) rotate(0deg);\n  }\n  to {\n    transform: translate(-50%, -50%) rotate(360deg);\n  }\n}\n.popup-animation--2P600 {\n  animation: popup--2cnwM 300ms;\n}\n.qie-player .video-stats--VabAt {\n  position: absolute;\n  width: 340px;\n  line-height: 20px;\n  color: white;\n  padding: 10px;\n  border-radius: 3px;\n  background-color: rgba(0, 0, 0, 0.8);\n  top: 10px;\n  left: 10px;\n  box-shadow: 1px 1px 6px #333;\n  pointer-events: none;\n}\n.qie-player .video-stats--VabAt ul {\n  list-style: none;\n}\n.qie-player .video-stats--VabAt ul li {\n  width: 100%;\n  box-sizing: border-box;\n  clear: both;\n}\n.qie-player .video-stats--VabAt ul li span {\n  color: white !important;\n}\n.qie-player .video-stats--VabAt ul li > span {\n  white-space: nowrap;\n  display: inline-block;\n  box-sizing: border-box;\n  width: calc(100% - 85px);\n}\n.qie-player .video-stats--VabAt ul li > span:first-child {\n  text-align: right;\n  width: 85px;\n}\n.qie-player .video-stats--VabAt ul li > span:first-child::first-letter {\n  text-transform: uppercase;\n}\n.qie-player .video-stats--VabAt ul li > span:first-child::after {\n  content: ':';\n  margin: 0 5px;\n}\n.qie-player .video-stats--VabAt ul li .speed-range--2k90l {\n  position: relative;\n  width: calc(100% - 85px);\n  float: right;\n}\n.qie-player .video-stats--VabAt ul li .speed-range--2k90l canvas {\n  width: calc(100% - 60px);\n  height: 50px;\n  background-color: rgba(0, 0, 255, 0.5);\n  padding: 3px 0;\n}\n.qie-player .video-stats--VabAt ul li .speed-range--2k90l span {\n  position: absolute;\n  overflow: hidden;\n  padding-left: 10px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-weight: bold;\n  color: yellow !important;\n  width: 60px;\n  transform: scale(0.8);\n}\n.qie-player .video-stats--VabAt ul li .speed-range--2k90l span:last-child {\n  bottom: 0;\n  color: red !important;\n}\n.qie-player .video-stats--VabAt .close-btn--J08wO {\n  display: inline-block;\n  background: rgba(0, 0, 0, 0);\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  text-align: center;\n  pointer-events: fill;\n  color: #fff !important;\n}\n.qie-player .video-stats--VabAt .close-btn--J08wO:hover {\n  color: red !important;\n}\n",""]),e.locals={popupAnimation:"popup-animation--2P600",popup:"popup--2cnwM",videoStats:"video-stats--VabAt",speedRange:"speed-range--2k90l",closeBtn:"close-btn--J08wO",preloaderProgress:"preloader-progress--3j10v",route:"route--7BVwT"},n.exports=e},357:function(n,e,t){"use strict";t.r(e);var a,o=t(1),l=t(6),r=t(3),i=t(0),p=t(21),s=t(252),c=t.n(s),u=(a=function(n,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])})(n,e)},function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}a(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),d=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var a,o,l=t.call(n),r=[];try{for(;(void 0===e||e-- >0)&&!(a=l.next()).done;)r.push(a.value)}catch(n){o={error:n}}finally{try{a&&!a.done&&(t=l.return)&&t.call(l)}finally{if(o)throw o.error}}return r},h=function(n,e,t){if(t||2===arguments.length)for(var a,o=0,l=e.length;o<l;o++)!a&&o in e||(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return n.concat(a||Array.prototype.slice.call(e))},m=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.draw=function(){if(e._canvas&&e._ctx){var n=e.props.playbackQuality.getIn(["info","bandwidths"]),t=e._ctx,a=e._canvas.width,o=e._canvas.height;t.clearRect(0,0,a,o);var l=a/n.length,r=Math.max.apply(Math,h([],d(n),!1));t.beginPath(),n.forEach((function(n,e){var a=o-(25+(o-50)*n/(r-0));0!==e?t.lineTo(e*l,a):t.moveTo(0,a)})),t.stroke()}},e.onRef=function(n){n&&(e._canvas=n,e._ctx=n.getContext("2d"),e._ctx&&(e._ctx.strokeStyle="yellow",e._ctx.lineJoin="bevel",e._ctx.lineCap="round",e._ctx.lineWidth=4,e._ctx.miterLimit=1,e._ctx.imageSmoothingEnabled=!0,e._ctx.imageSmoothingQuality="high"))},e.onClose=function(){e.props.dispatch({type:i.e.STATS_TOGGLE})},e}return u(e,n),e.prototype.shouldComponentUpdate=function(n){return n.render.equals(this.props.render)||!r.is(n.playbackQuality,this.props.playbackQuality)||this.props.cdnType!==n.cdnType||this.props.useDanmu!==n.useDanmu},e.prototype.componentDidMount=function(){this.draw(),this.drawTask=setInterval(this.draw,500)},e.prototype.componentWillUnmount=function(){clearInterval(this.drawTask),this._canvas=null,this._ctx=null},e.prototype.render=function(){var n=this.props.playbackQuality.get("info"),e=n.width,t=n.height,a=n.codecs,l=n.bandwidths,r=n.decoded,i=n.dropped,s=Math.max.apply(Math,h([],d(l),!1));return o.createElement("div",{className:c.a.videoStats},o.createElement("ul",null,o.createElement("li",null,o.createElement("span",null,"Resolution"),o.createElement("span",null,e,"x",t)),o.createElement("li",null,o.createElement("span",null,"Env"),o.createElement("span",null,p.d(),",",navigator.product)),o.createElement("li",null,o.createElement("span",null,"Codecs"),o.createElement("span",null,a)),o.createElement("li",null,o.createElement("span",null,"Speed"),o.createElement("span",null,this.formatBandwidth(l[0]))),this.props.useDanmu&&o.createElement("li",null,o.createElement("span",null,"Danmu"),o.createElement("span",null,this.props.render.get("version"))),this.props.isLive&&o.createElement("li",null,o.createElement("span",null,"CdnType"),o.createElement("span",null,this.props.cdnType)),o.createElement("li",null,o.createElement("span",null,"Network"),o.createElement("div",{className:c.a.speedRange},o.createElement("canvas",{ref:this.onRef}),o.createElement("span",null,this.formatBandwidth(s,0)),o.createElement("span",null,"0 kb/s"))),o.createElement("li",null,o.createElement("span",null,"Dropped"),o.createElement("span",null,i,"/",r+i))),o.createElement("span",{className:c.a.closeBtn,onClick:this.onClose},"[x]"))},e.prototype.formatBandwidth=function(n,e){return void 0===e&&(e=2),n>1024?(n/1024).toFixed(1)+" m/s":n.toFixed(e)+" k/s"},e}(o.Component);e.default=Object(l.b)((function(n){return{playbackQuality:n.get("playbackQuality"),cdnType:n.get("playlist").get("rtmp_cdn"),isLive:n.get("uiconfig").get("isLive"),render:n.get("danmuSetting").get("render"),useDanmu:n.get("danmuSetting").getIn(["opened"])}}))(m)}}]);